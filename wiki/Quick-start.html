
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://awawa-dev.github.io/wiki/Quick-start.html">
      
      
        <link rel="prev" href="LibreELEC.html">
      
      
        <link rel="next" href="LUT-calibration.html">
      
      
        
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Quick start - HyperHDR Wiki</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/overrides.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="HyperHDR Wiki" class="md-header__button md-logo" aria-label="HyperHDR Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            HyperHDR Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quick start
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="HyperHDR Wiki" class="md-nav__button md-logo" aria-label="HyperHDR Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    HyperHDR Wiki
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Getting-started.-Needed-components.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting started. Needed components
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Software installation
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Software installation
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Installation#windows" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="LibreELEC.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LibreELEC
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Installation#debian-and-ubuntu-apt-repository" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux/Debian&Ubuntu repository
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Installation#hyperhdr-custom-raspberry-pi-os-distribution" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux/RaspberryPi SD card
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Installation#linux" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linux/general
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Installation#macos" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    macOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Configurations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configurations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Quick start
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="Quick-start.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Quick start
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Introduction
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-pro-tips" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance pro-tips:
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        First steps
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-led-strip" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring the LED strip
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual-led-layout-and-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual LED layout and testing
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#second-instance-philips-hue-lamps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Second instance (Philips Hue lamps)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-video--system-grabber" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring video &amp; system grabber
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-read-hyperhdr-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      
        How to read HyperHDR statistics
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="LUT-calibration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Video source LUT calibration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="P010-video-format.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    P010 high quality video format
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Automatic-tone-mapping.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Automatic tone mapping
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Software-screen-capture.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Software screen capture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Audio-reactive.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Audio-reactive lighting effects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Raspberry-Pi-5-PWM.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Raspberry Pi 5 GPIO PWM üÜï
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Zigbee2MQTT-lights.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Zigbee2MQTT lights
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Home-Assistant-lights.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home Assistant lights
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="JSON-API.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    JSON API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Instance-synchronization.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Instance synchronization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Hue-Entertainment-API-v2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hue gradient light strips
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="HyperSerial.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HyperSerialPico and others
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Infinite-color-engine.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Infinite Color Engine üÜï
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Compiling-HyperHDR.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Compiling HyperHDR
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="FAQ.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Level-Shifter.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3.3V to 5V level shifter
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Raspberry-Pi-OS-read-only-mode.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Raspberry Pi OS read-only mode
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        Introduction
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance-pro-tips" class="md-nav__link">
    <span class="md-ellipsis">
      
        Performance pro-tips:
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#first-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        First steps
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-the-led-strip" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring the LED strip
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual-led-layout-and-testing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Manual LED layout and testing
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#second-instance-philips-hue-lamps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Second instance (Philips Hue lamps)
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuring-video--system-grabber" class="md-nav__link">
    <span class="md-ellipsis">
      
        Configuring video &amp; system grabber
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-read-hyperhdr-statistics" class="md-nav__link">
    <span class="md-ellipsis">
      
        How to read HyperHDR statistics
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Quick start</h1>

<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<ol>
<li><a href="#performance-pro-tips">Must read</a></li>
<li><a href="#first-steps">HyperHDR basics</a></li>
<li><a href="#configuring-the-led-strip">How to create and enable your first LED strip (instance)</a></li>
<li><a href="#manual-led-layout-and-testing">Manual LED layout editing and testing</a></li>
<li><a href="#second-instance-philips-hue-lamps">Add your second instance e.g. Philips Hue lamps</a></li>
<li><a href="#configuring-video--system-grabber">Configuring and testing your USB video grabber</a></li>
<li><a href="#how-to-read-hyperhdr-statistics">How to read HyperHDR statistics</a></li>
<li><a href="Infinite-color-engine">Infinite Color Engine üÜï</a></li>
</ol>
<h2 id="performance-pro-tips">Performance pro-tips:<a class="headerlink" href="#performance-pro-tips" title="Permanent link">&para;</a></h2>
<p>Although the use of WiFi LED drivers tempts with simplicity, in fact, for the entire duration of the session that requires constant data transmission, you will be at the mercy of the quality of the radio connection, the reliability and compatibility of your router with your esp8266 / esp32 model, the quality of the latter and the reliability of the given version e.g. Espressif SDK which was used to build the firmware. In addition, LED control can often lead to conflict with WiFi communication (especially "IRQ thunderstorm" if popular RMT method is used). You have been warned ‚ö†Ô∏è </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>Use the highest framerate for your USB grabber. General rule: highest framerate, lowest resolution. </li>
<li>The best image quality after LUT calibration is definitely provided by the raw P010 codec. For SDR, you can also try using NV12 (or YUV) or MJPEG, although much depends on how much the grabber‚Äôs internal processing will degrade the signal. A good example of how easily even an SDR signal can be ruined by faulty firmware ‚Äî either ‚Äúimproved‚Äù by sellers or simply due to its default settings ‚Äî are the MS2109 and MS2130 grabbers, although certain remedies are available for them.</li>
<li>Avoid using high recording resolutions (e.g., 1080p) unless explicitly required by the selected codec, such as P010. Higher resolutions have negligible influence on ambient light measurements but impose a significant load on system resources. When operating at such resolutions or when using the NV12 format, it is recommended to downscale the captured image to 25% within the grabber settings. Note that NV12 inherently includes redundant luminance information at the expense of chroma data, so additional downscaling has little practical impact on the resulting image quality.</li>
<li>Because the communication speed between the unit and the video grabber directly affects latency, we strongly recommend using hosts and grabbers that support USB 3.0. Therefore, as a minimum, we suggest platforms such as the N100 or Raspberry Pi 4. Of course, USB 2.0 grabbers can also be used, but you should be aware that they introduce an additional delay of approximately 50 ms compared to USB 3.0 systems. This limitation is purely hardware-related.</li>
<li>Maintain realistic "Smoothing" processing settings. Do not use a 60 Hz refresh rate for smoothing, for example, if your LED driver based on Arduino or using integration with Home Assistant or ZigBee can only output 20-25 Hz. Otherwise, you will clog the communication.</li>
</ul>
</div>
<hr />
<h2 id="first-steps">First steps<a class="headerlink" href="#first-steps" title="Permanent link">&para;</a></h2>
<p>Ok let's get started. Connect to HyperHDR using the address:
<code>http://IP_OF_HYPERHDR:8090</code></p>
<p><img alt="Screen Shot 2021-09-12 at 3 25 16 PM" src="https://user-images.githubusercontent.com/69086569/133034578-1449c0f9-90ae-4b46-93f0-b25e3ee489f4.jpg" /></p>
<p>Main menu is located on the left part of the page:</p>
<p><img alt="menu" src="https://user-images.githubusercontent.com/69086569/133036282-ef70e8f8-1810-414c-a23d-ef02ee3a043e.jpg" /></p>
<p>The instance switch button is disabled for now because there is only one instance at the beginning. There is a warning about setting a new password, so it's a good idea to do it now. Follow the link or go to the "Advanced" tab to change the password:</p>
<p><img alt="obraz" src="https://github.com/awawa-dev/HyperHDR/assets/69086569/a9f88a32-cc3a-420d-bd5b-74cdbac3afee" /></p>
<p>You may also be greeted with an error warning. Don't panic and go to the logs. In the example below, I made a mistake when entering the IP address of my Philips Hue Bridge:</p>
<p><img alt="obraz" src="https://github.com/awawa-dev/HyperHDR/assets/69086569/b006ea1d-8097-437a-a9fa-3aa1943a5b81" /></p>
<hr />
<h2 id="configuring-the-led-strip">Configuring the LED strip<a class="headerlink" href="#configuring-the-led-strip" title="Permanent link">&para;</a></h2>
<p>First give a friendly name for our instance:  </p>
<p><img alt="Screen Shot 2021-09-12 at 3 25 52 PM" src="https://user-images.githubusercontent.com/69086569/133042711-e3624f33-f240-4c8c-a4fe-e61c063b674d.jpg" /></p>
<p>The LED strip is controlled by USB high-speed HyperSerialWLED/HyperSerial8266/HyperSerialESP32. So go to the LED devices and select 'LED hardware' tab then adalight from the list.</p>
<p><img alt="Screen Shot 2021-09-12 at 3 26 33 PM" src="https://user-images.githubusercontent.com/69086569/133044149-7208189a-b2f9-4c74-b0de-7ce95edeae9c.jpg" /></p>
<p>On Raspberry Pi the COM list could be different. Remember that Rpi 3 &amp; 4 has available Bluetooth device that is enabled on default. Its exact path (e.g. ttyAMA0 here) may vary.</p>
<p><img alt="adalight" src="https://user-images.githubusercontent.com/69086569/133046533-d46c71b3-2c09-4e8a-a328-2abc903c5565.jpg" /></p>
<p>Because we use non-standard highspeed AWA protocol @2Mb we need to configure two more things:  </p>
<p><img alt="Screen Shot 2021-09-12 at 3 26 55 PM" src="https://user-images.githubusercontent.com/69086569/133044960-a5a8ad1c-378e-4644-8c4c-6d3e517f7f34.jpg" /></p>
<p>Now we need to set geometry of the LED strip. For example let's assume we have: input in the middle of the bottom, 50 LEDs at the top, 25 LEDs on the left/right.
 At the bottom we 40 LEDs and a gap of 10 LEDs so you must put 50 LEDs (40 + 10) as bottom and set gap as 10. </p>
<p><img alt="Screen Shot 2021-09-12 at 3 30 12 PM" src="https://user-images.githubusercontent.com/69086569/133050660-29d02ee0-2dd2-454e-b218-4903d1811aa0.jpg" /></p>
<p>Still there is a problem with the input position. Set gap &amp; input position to 95 (top 50 + right 25 + one of bottom part 20)</p>
<p><img alt="Screen Shot 2021-09-12 at 3 30 55 PM" src="https://user-images.githubusercontent.com/69086569/133050079-9a3d73f6-13ab-479f-9295-ef22e7be4103.jpg" /></p>
<hr />
<h2 id="manual-led-layout-and-testing">Manual LED layout and testing<a class="headerlink" href="#manual-led-layout-and-testing" title="Permanent link">&para;</a></h2>
<p>If you are not satisfied with the automatically generated layout, you can correct it manually. Right-click on the selected LED and a context menu will be displayed. You can manually adjust its position (Move) or size (Properties), disable it (it will never be lit) or remove it (Delete) from the system altogether. </p>
<p>Use 'Identify' to test a particular diode or check its physical location. This will cause it to blink for a few seconds.</p>
<p><img alt="obraz" src="https://github.com/awawa-dev/HyperHDR/assets/69086569/3f78dee3-78ec-42f6-953e-fd1bdcdc78a2" /></p>
<hr />
<h2 id="second-instance-philips-hue-lamps">Second instance (Philips Hue lamps)<a class="headerlink" href="#second-instance-philips-hue-lamps" title="Permanent link">&para;</a></h2>
<p>First create new instance for our Philips Hue lamp:  </p>
<p><img alt="Screen Shot 2021-09-12 at 3 50 33 PM" src="https://user-images.githubusercontent.com/69086569/133062949-34d4352a-eea6-41be-a038-9729b5eb9e06.jpg" /></p>
<p>Now switch to the new instance:  </p>
<p><img alt="Screen Shot 2021-09-12 at 3 50 47 PM" src="https://user-images.githubusercontent.com/69086569/133063131-f1cbd4f0-a961-4021-80a0-e5990b6704a6.jpg" /></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you decide to disable the linear output for the Hue lamps, you can choose to increase the gamma in the processing tab, for example, to 2.2. Disabling this option is recommended because then the gamma is taken into account during the smoothing process. If it is enabled, it is applied afterward at the final stage before sending the colors to the lamp, which may result in slightly less smooth color transitions.</p>
</div>
<p>Before proceeding you must create an 'Entertainment group' for your lamps in the Philips Android or IOS mobile application. Don't even try without doing it first. Your Hue Bridge should also to be working for at least 2-3 minutes to avoid connection problems during configuration at startup. You should try first to send a color from the Philips mobile app to make sure it's working and your 'Entertainment group' is created.</p>
<p>Then add Philips Hue light source and run the wizard:  </p>
<p><img alt="Screen Shot 2021-09-12 at 3 51 14 PM" src="https://user-images.githubusercontent.com/69086569/133063351-521aa65c-1167-4881-8b8a-d8695194d2ca.jpg" /></p>
<p>HyperHDR should find the Philips Hue bridge in the same sub-network. Some custom router's firewall rules or enabling WiFi isolation can cause the process to fail.</p>
<p><img alt="Screen Shot 2021-09-12 at 3 51 26 PM" src="https://user-images.githubusercontent.com/69086569/133063546-6189bb04-7710-4b22-853a-68fe67cd4f33.jpg" /></p>
<p>Click the 'Create new user and and clientkey' button. Now it's time to click a large hardware button located on your Hue bridge. It allows to authorize the HyperHDR's access. If everything goes OK you should have the Username and Clientkey filled in automatically. Identificator of 'Entertainment group' should also be found automatically.</p>
<p><img alt="Screen Shot 2021-09-12 at 3 51 32 PM" src="https://user-images.githubusercontent.com/69086569/133064575-f7842a34-b5ef-4853-83ee-de6aa339cd53.jpg" /></p>
<p>Proceed with clicking the 'use group...' button.</p>
<p><img alt="Screen Shot 2021-09-12 at 3 52 37 PM" src="https://user-images.githubusercontent.com/69086569/133064632-912c7d59-83ac-4cd9-8af7-a64ac835bf53.jpg" /></p>
<p>Now you can assign area of the TV to single, selected lamp in the entertainment group. Because I have 2 lamps on the floor (one just on the right of the TV and second to the left) I selected following options.</p>
<p><img alt="Screen Shot 2021-09-12 at 3 52 58 PM" src="https://user-images.githubusercontent.com/69086569/133064711-bd3f2f4a-7a3b-41be-8fb9-afcd67deb5b5.jpg" />
<img alt="Screen Shot 2021-09-12 at 3 53 07 PM" src="https://user-images.githubusercontent.com/69086569/133064713-4a1f9071-5d95-4e01-9c5e-1c1335e357bf.jpg" /></p>
<hr />
<h2 id="configuring-video--system-grabber">Configuring video &amp; system grabber<a class="headerlink" href="#configuring-video--system-grabber" title="Permanent link">&para;</a></h2>
<p>Now we configure the video source for HyperHDR: it can be an USB grabber or system screen capture. Go to the 'Video capturing tab' and select your USB grabber.</p>
<p><img alt="Screen Shot 2021-09-12 at 3 45 36 PM" src="https://user-images.githubusercontent.com/69086569/133199842-c37951ea-1668-41ec-8202-7bd43096d756.jpg" /></p>
<p>The yellow 'Info' button will appear after you select the grabber. Click it to open the dialog. Ezcap 321 offers very high capturing modes. I choose the lowest NV12. You should not go above 720p, because it causes drain of CPU resources &amp; introduces video processing lag and gives very little to our ambient effect.</p>
<p><img alt="Screen Shot 2021-09-12 at 3 45 46 PM" src="https://user-images.githubusercontent.com/69086569/133200143-7836a12e-72b8-439c-a520-4000e9922677.jpg" /></p>
<p>Next I check 'Quarter to frame mode' option. It will reduce the frame dimensions (to 50%) &amp; size (to 25%) but will not reduce color's data due to NV12 codec properties.</p>
<p><img alt="Screen Shot 2021-09-12 at 3 45 54 PM" src="https://user-images.githubusercontent.com/69086569/133202001-4065d619-30a9-438b-9704-697de965bea4.jpg" /></p>
<p>Click the 'Video preview &amp; LED visualization' button in the upper left corner:</p>
<p><img alt="Screen Shot 2021-09-12 at 3 45 21 PM" src="https://user-images.githubusercontent.com/69086569/133202548-21dfea25-c545-4232-a6d2-aace2bb51499.jpg" /></p>
<p>The video stream colors are washed-out and overall luminescence is low. That's because we have captured a HDR10 video stream and almost none of USB grabbers can process HDR metadata so important part of information about the image is lost. Let's back to the Capturing hardware tab and enable 'HDR to SDR tone mapping'.</p>
<p><img alt="Screen Shot 2021-09-12 at 3 48 54 PM" src="https://user-images.githubusercontent.com/69086569/133210055-5039f12d-d1cd-4ff6-889b-d7a223edcc07.jpg" /></p>
<hr />
<h2 id="how-to-read-hyperhdr-statistics">How to read HyperHDR statistics<a class="headerlink" href="#how-to-read-hyperhdr-statistics" title="Permanent link">&para;</a></h2>
<p>The statistics are available on the main HyperHDR application page (the 'Overview' tab)</p>
<p><img alt="stats" src="https://github.com/awawa-dev/HyperHDR/assets/69086569/4d0062a9-ca22-408f-ba1c-86d7167e1677" /></p>
<ol>
<li>Overall CPU usage with per core visualization (by all running applications, not only HyperHDR)</li>
<li>Available system memory</li>
<li>Temperature reported by your hardware.</li>
<li>Verify that the Raspberry Pi's built-in hardware sensor reported an under-voltage event to the system logs. Note that over-voltage events are not reported but often accompany under-voltage events and only the fuse remains in the way to prevent damage to the Raspberry Pi in the extreme case (the fuse does not protect if you are powering the Raspberry Pi via GPIO). Cheap power supplies, when unable to provide enough power, tend to spike voltage too high in response to the situation. Problems caused by insufficient or unstable power supply are very difficult to diagnose. Most likely, your USB grabber will fail first, but this is not always the case: Raspberry Pi modules, such as the embedded USB controller or network card, may also stop working properly.</li>
<li>USB grabber performance: FPS and average time to decode a frame. You also usually want the FPS to be as high as possible with the lowest resolution possible at the same time. There are settings in the USB grabber configuration that can help reduce the resolution if the grabber doesn't have a hardware scaler. Keep decoding time below 20ms.</li>
<li>Each user configured light source is listed here. Each instance takes input from e.g. your USB grabber or flatbuffer source and forwards it further: directly to the LED device if smoothing is off or to the smoothing sampler unit otherwise.</li>
<li>If smoothing processing is enabled, it can increase or decrease the frame rate of the stream delivered by the instance. The result is then routed to the final LED device driver.</li>
<li>Light source/LED strip driver. Here you have information on how many frames were received directly from the smoothing unit or from the instance, and how many actually went to the device. Note that some protocols do not guarantee that the frames actually arrived on the device, e.g. UDP used by WLED or the Philips Hue Entertainment API (and no error will be detected or reported).</li>
<li>If you have the 'Continuous output' option disabled, you may see dropped frames in the statistics (trash‚Äëcan icon). With this option off, HyperHDR saves resources by skipping RGB frame updates to the LED device more often than once per second if the frames are identical. Otherwise, these statistics may indicate that the LED rendering queue is becoming clogged.</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": ".", "features": [], "search": "assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>